(function(){"use strict";const p="ace38e20b56c485f927d1efdaf7105ac",m="production";let a=null;const c=[];function g(){if(a||!window.rollbar)return;const e={accessToken:p,captureUncaught:!1,captureUnhandledRejections:!1,payload:{environment:m,context:"web-tools"}};a=new window.rollbar(e);for(const[t,n]of c)a[t](...n);c.length=0}const h={get(e,t){return(...n)=>{a&&typeof a[t]=="function"?a[t](...n):c.push([t,n])}}};window.addEventListener("DOMContentLoaded",g);const i=new Proxy({},h),l={libraries:[{name:"marketing-tracker",attrs:{src:"https://marketing-tracker.babbel.com/latest/3/index.js"}},{name:"events-collector",attrs:{src:"https://wt.babbel.com/ec/ec.cjs"}}]},d=e=>!!document.querySelector(`script[data-name="${e}"]`),f=()=>{const e=window.webToolsConfig??{},t=e.libraries??[],n=l.libraries??[],r=e.mode==="override"?t:[...n,...t];return{...l,...e,libraries:r}},C=({name:e,attrs:t={}})=>{const{src:n,textContent:r,defer:o,async:v,...E}=t,s=document.createElement("script");return s.dataset.name=e,r&&(s.textContent=r),n&&(s.src=n),o&&(s.defer=!0),v&&(s.async=!0),Object.entries(E).forEach(([y,w])=>w&&s.setAttribute(y,String(w))),s},u=({name:e,attrs:t})=>d(e)?Promise.resolve():new Promise((n,r)=>{try{const o=C({name:e,attrs:t});o.addEventListener("error",r),o.addEventListener("load",()=>{dispatchEvent(new Event(`web-tools:loaded:${e}`)),n()}),document.head.appendChild(o)}catch(o){i.error(o),r(o)}}),b=async()=>{await Promise.allSettled((f().libraries??[]).map(u))};(()=>{const e=f(),t=e.autoload===!1?Promise.resolve():b();window.webTools={config:e,isLoaded:d,load:u,loadAll:b,ready:t,rollbar:i,version:"1.5.2"},t.then(()=>dispatchEvent(new Event("web-tools:ready")))})()})();
//# sourceMappingURL=web-tools.cjs.map
